
<html>
  <head>
    <title>VRhackathon</title>
  </head>
  <body>
  <div id="videos">
    <video id="leftEye" autoplay muted></video>
    <video id="rightEye" autoplay muted></video>
  </div>

    <script src="js/three.min.js"></script>
    <script src="js/jquery-1.11.3.min.js"></script>
    <script>

      // find rear facing camera
      MediaStreamTrack.getSources(gotSources);

      function gotSources(sourceInfos) {
        var videoId;
        for (var i = 0; i < sourceInfos.length; i++) {
          var sourceInfo = sourceInfos[i];
          if (sourceInfo.kind == 'video' && sourceInfo.facing == 'environment'){
              videoId = sourceInfo.id;
          }
        }

      var constraints = {
        audio: true,
        video: {
            optional: [{sourceId: videoId}]
        }
      };

      navigator.webkitGetUserMedia(constraints, handleUserMediaSuccess, handleUserMediaError);
    }

      function handleUserMediaSuccess(stream) {
        console.log("Successfully got local video stream!");
        attachMediaStream = function(element, stream) {
          element.src = window.URL.createObjectURL(stream);
        };
        attachMediaStream($("#leftEye")[0], stream);
        attachMediaStream($("#rightEye")[0], stream);
      }

      function handleUserMediaError(error) {
        alert("getUserMedia error: ", error);
      };
    </script>
  <link rel=stylesheet href="css/ar.css"/>
  </body>
</html>
